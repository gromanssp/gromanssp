{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/service.index\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../pipes/imagen.pipe\";\n\nconst _c0 = function (a1) {\n  return [\"/medico\", a1];\n};\n\nfunction MedicosComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵpipe(3, \"imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵelementStart(9, \"button\", 16);\n    i0.ɵɵelement(10, \"i\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function MedicosComponent_tr_30_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const medico_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.borrarMedico(medico_r2);\n    });\n    i0.ɵɵelement(12, \"i\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const medico_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind2(3, 4, medico_r2.img, \"medico\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", medico_r2.nombre, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", medico_r2.hospital[\"nombre\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, medico_r2._id));\n  }\n}\n\nconst _c1 = function () {\n  return [\"/medico\", \"nuevo\"];\n};\n\nexport let MedicosComponent = /*#__PURE__*/(() => {\n  class MedicosComponent {\n    constructor(_medicoService) {\n      this._medicoService = _medicoService;\n      this.medicos = [];\n      this.totalRegistros = 0;\n      this.desde = 0;\n    }\n\n    ngOnInit() {\n      this.cargarMedicos();\n      this.totalMedicos();\n    }\n\n    cargarMedicos() {\n      this._medicoService.cargarMedicos().subscribe(medicos => {\n        this.medicos = medicos;\n        this.totalRegistros = medicos.total;\n      });\n    }\n\n    totalMedicos() {\n      this._medicoService.totalMedicos().subscribe(total => {\n        this.totalRegistros = total;\n      });\n    }\n\n    buscarMedico(termino) {\n      if (termino.length <= 0) {\n        this.cargarMedicos();\n        return;\n      }\n\n      this._medicoService.buscarMedico(termino).subscribe(medicos => this.medicos = medicos);\n    }\n\n    borrarMedico(medico) {\n      this._medicoService.borrarMedico(medico._id).subscribe(() => this.cargarMedicos());\n    }\n\n    cambiarDesde(valor) {\n      const desde = this.desde + valor;\n      console.log(desde);\n\n      if (desde >= this.totalRegistros) {\n        return;\n      }\n\n      console.log(this.totalRegistros);\n\n      if (desde < 0) {\n        return;\n      }\n\n      this.desde += valor;\n      this.cargarMedicos();\n      this.totalMedicos();\n    }\n\n  }\n\n  MedicosComponent.ɵfac = function MedicosComponent_Factory(t) {\n    return new (t || MedicosComponent)(i0.ɵɵdirectiveInject(i1.MedicoService));\n  };\n\n  MedicosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MedicosComponent,\n    selectors: [[\"app-medicos\"]],\n    decls: 35,\n    vars: 4,\n    consts: [[1, \"row\", \"animated\", \"fadeIn\"], [1, \"col-12\"], [1, \"card\"], [1, \"card-body\"], [\"type\", \"text\", \"placeholder\", \"Buscar Medico\", 1, \"form-control\", 3, \"keyup\"], [\"input\", \"\"], [1, \"text-right\"], [1, \"btn\", \"btn-rounded\", \"btn-primary\", 3, \"routerLink\"], [1, \"fa\", \"fa-plus\"], [1, \"card-title\", \"text-primary\", \"text-center\", \"p-t-20\"], [1, \"badge\", \"badge-pill\", \"badge-primary\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"m-l-5\", \"btn\", \"btn-secondary\", \"pull-right\", 3, \"click\"], [1, \"img-50\", \"img-circle\", 3, \"src\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"fa\", \"fa-edit\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fa\", \"fa-trash-o\"]],\n    template: function MedicosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r5 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"input\", 4, 5);\n        i0.ɵɵlistener(\"keyup\", function MedicosComponent_Template_input_keyup_4_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r0 = i0.ɵɵreference(5);\n\n          return ctx.buscarMedico(_r0.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 0);\n        i0.ɵɵelementStart(7, \"div\", 1);\n        i0.ɵɵelementStart(8, \"div\", 2);\n        i0.ɵɵelementStart(9, \"div\", 3);\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"button\", 7);\n        i0.ɵɵelement(12, \"i\", 8);\n        i0.ɵɵtext(13, \" Crear M\\u00E9dico \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"h3\", 9);\n        i0.ɵɵtext(15, \"M\\u00E9dicos Registrados \");\n        i0.ɵɵelementStart(16, \"sup\");\n        i0.ɵɵelementStart(17, \"span\", 10);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"table\", 11);\n        i0.ɵɵelementStart(20, \"thead\");\n        i0.ɵɵelementStart(21, \"tr\");\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Foto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"M\\u00E9dico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Hospital\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"th\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"tbody\");\n        i0.ɵɵtemplate(30, MedicosComponent_tr_30_Template, 13, 9, \"tr\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function MedicosComponent_Template_button_click_31_listener() {\n          return ctx.cambiarDesde(-5);\n        });\n        i0.ɵɵtext(32, \" Anteriores \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function MedicosComponent_Template_button_click_33_listener() {\n          return ctx.cambiarDesde(5);\n        });\n        i0.ɵɵtext(34, \" Siguientes \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx._medicoService.totalMedico);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", ctx.medicos);\n      }\n    },\n    directives: [i2.RouterLink, i3.NgForOf],\n    pipes: [i4.ImagenPipe],\n    encapsulation: 2\n  });\n  return MedicosComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}